# âœ¨ CSS å±‚å  ğŸ‘Œ

[[TOC]]

## 1. å±‚å æ¦‚è¿°

**å±‚å ï¼ˆCascadeï¼‰** æ˜¯ CSS çš„æ ¸å¿ƒæœºåˆ¶ä¹‹ä¸€ï¼Œç”¨äº**è§£å†³æ ·å¼å£°æ˜å†²çª**çš„é—®é¢˜ã€‚

### 1.1 ä»€ä¹ˆæ˜¯å±‚å 

å±‚å æ˜¯æµè§ˆå™¨å†³å®šå½“å¤šä¸ª CSS è§„åˆ™åº”ç”¨åˆ°åŒä¸€ä¸ªå…ƒç´ æ—¶ï¼Œå“ªä¸ªè§„åˆ™æœ€ç»ˆç”Ÿæ•ˆçš„è¿‡ç¨‹ã€‚å®ƒé€šè¿‡ä¸€å¥—ä¸¥æ ¼çš„ä¼˜å…ˆçº§è§„åˆ™æ¥è‡ªåŠ¨å¤„ç†æ ·å¼å†²çªã€‚

### 1.2 å±‚å çš„é‡è¦æ€§

- **è§£å†³å†²çª**ï¼šå½“å¤šä¸ªæ ·å¼è§„åˆ™ä½œç”¨äºåŒä¸€å…ƒç´ æ—¶ï¼Œç¡®å®šæœ€ç»ˆåº”ç”¨çš„æ ·å¼
- **å¯é¢„æµ‹æ€§**ï¼šæä¾›ä¸€å¥—æ˜ç¡®çš„è§„åˆ™ï¼Œè®©å¼€å‘è€…èƒ½å¤Ÿé¢„æµ‹æ ·å¼çš„æœ€ç»ˆæ•ˆæœ
- **çµæ´»æ€§**ï¼šå…è®¸æ ·å¼çš„è¦†ç›–å’Œç»§æ‰¿ï¼Œæé«˜ä»£ç çš„å¯ç»´æŠ¤æ€§

## 2. å£°æ˜å†²çª

### 2.1 ä»€ä¹ˆæ˜¯å£°æ˜å†²çª

**å£°æ˜å†²çª**ï¼šåŒä¸€ä¸ª CSS å±æ€§ï¼Œé€šè¿‡ä¸åŒçš„é€‰æ‹©å™¨å¤šæ¬¡åº”ç”¨åˆ°åŒä¸€ä¸ªå…ƒç´ ä¸Šã€‚

### 2.2 å†²çªäº§ç”Ÿçš„åœºæ™¯

```html :collapsed-lines
<!DOCTYPE html>
<html>
  <head>
    <style>
      /* åœºæ™¯1ï¼šä¸åŒé€‰æ‹©å™¨è®¾ç½®ç›¸åŒå±æ€§ */
      p {
        color: blue;
      }
      .text {
        color: red;
      }
      #content {
        color: green;
      }

      /* åœºæ™¯2ï¼šåŒä¸€é€‰æ‹©å™¨é‡å¤å£°æ˜ */
      .box {
        width: 100px;
        width: 200px; /* åé¢çš„ä¼šè¦†ç›–å‰é¢çš„ */
      }

      /* åœºæ™¯3ï¼šå¤–éƒ¨æ ·å¼è¡¨ä¸å†…éƒ¨æ ·å¼å†²çª */
      h1 {
        font-size: 24px;
      }
    </style>
    <link rel="stylesheet" href="external.css" />
  </head>
  <body>
    <p class="text" id="content">è¿™æ®µæ–‡å­—çš„é¢œè‰²æ˜¯ä»€ä¹ˆï¼Ÿ</p>
    <div class="box">è¿™ä¸ªç›’å­çš„å®½åº¦æ˜¯å¤šå°‘ï¼Ÿ</div>
  </body>
</html>
```

### 2.3 å†²çªè§£å†³æœºåˆ¶

æµè§ˆå™¨é€šè¿‡**å±‚å ç®—æ³•**æ¥è§£å†³å†²çªï¼ŒæŒ‰ç…§ä»¥ä¸‹é¡ºåºè¿›è¡Œæ¯”è¾ƒï¼š

1. **é‡è¦æ€§ï¼ˆImportanceï¼‰**
2. **ç‰¹æ®Šæ€§ï¼ˆSpecificityï¼‰**
3. **æºæ¬¡åºï¼ˆSource Orderï¼‰**

## 3. é‡è¦æ€§æ¯”è¾ƒ

### 3.1 é‡è¦æ€§å±‚çº§

é‡è¦æ€§ä»é«˜åˆ°ä½çš„é¡ºåºï¼š

1. **ä½œè€…æ ·å¼è¡¨ä¸­çš„ !important æ ·å¼**
2. **ä½œè€…æ ·å¼è¡¨ä¸­çš„æ™®é€šæ ·å¼**
3. **æµè§ˆå™¨é»˜è®¤æ ·å¼è¡¨ä¸­çš„æ ·å¼**

### 3.2 æ ·å¼è¡¨ç±»å‹è¯¦è§£

#### 3.2.1 ä½œè€…æ ·å¼è¡¨ï¼ˆAuthor Stylesheetï¼‰

å¼€å‘è€…ç¼–å†™çš„æ ·å¼ï¼ŒåŒ…æ‹¬ï¼š

```css :collapsed-lines
/* å†…è”æ ·å¼ */
<div style="color: red;">å†…è”æ ·å¼</div>

/* å†…éƒ¨æ ·å¼è¡¨ */
<style>
    .text { color: blue; }
</style>

/* å¤–éƒ¨æ ·å¼è¡¨ */
<link rel="stylesheet" href="style.css">
```

#### 3.2.2 ç”¨æˆ·ä»£ç†æ ·å¼è¡¨ï¼ˆUser Agent Stylesheetï¼‰

æµè§ˆå™¨çš„é»˜è®¤æ ·å¼ï¼š

```css :collapsed-lines
/* æµè§ˆå™¨é»˜è®¤æ ·å¼ç¤ºä¾‹ */
h1 {
  display: block;
  font-size: 2em;
  margin-top: 0.67em;
  margin-bottom: 0.67em;
  font-weight: bold;
}

p {
  display: block;
  margin-top: 1em;
  margin-bottom: 1em;
}
```

## 4. ç‰¹æ®Šæ€§æ¯”è¾ƒ

### 4.1 ç‰¹æ®Šæ€§è®¡ç®—è§„åˆ™

ç‰¹æ®Šæ€§é€šè¿‡å››ä½æ•°å­— `(a, b, c, d)` æ¥è¡¨ç¤ºï¼š

| ä½ç½®  | æƒé‡ | è®¡ç®—è§„åˆ™                     | ç¤ºä¾‹                              |
| ----- | ---- | ---------------------------- | --------------------------------- |
| **a** | åƒä½ | å†…è”æ ·å¼æ•°é‡                 | `style="color: red"`              |
| **b** | ç™¾ä½ | ID é€‰æ‹©å™¨æ•°é‡                | `#header`                         |
| **c** | åä½ | **ç±»ã€å±æ€§ã€ä¼ªç±»é€‰æ‹©å™¨**æ•°é‡ | `.btn`, `[type="text"]`, `:hover` |
| **d** | ä¸ªä½ | **å…ƒç´ ã€ä¼ªå…ƒç´ **é€‰æ‹©å™¨æ•°é‡   | `div`, `::before`                 |

### 4.2 ç‰¹æ®Šæ€§è®¡ç®—ç¤ºä¾‹

```css :collapsed-lines
/* ç¤ºä¾‹1ï¼š(0, 0, 0, 1) */
p {
  color: black;
}

/* ç¤ºä¾‹2ï¼š(0, 0, 1, 0) */
.text {
  color: blue;
}

/* ç¤ºä¾‹3ï¼š(0, 1, 0, 0) */
#title {
  color: red;
}

/* ç¤ºä¾‹4ï¼š(0, 0, 1, 1) */
p.text {
  color: green;
}

/* ç¤ºä¾‹5ï¼š(0, 1, 1, 1) */
#title p.text {
  color: purple;
}

/* ç¤ºä¾‹6ï¼š(0, 0, 2, 2) */
div.container p.text {
  color: orange;
}

/* ç¤ºä¾‹7ï¼š(0, 0, 1, 0) */
[class="text"] {
  color: yellow;
}

/* ç¤ºä¾‹8ï¼š(0, 0, 2, 0) */
.text:hover {
  color: pink;
}

/* ç¤ºä¾‹9ï¼š(0, 0, 0, 2) */
div::before {
  content: "";
}

/* ç¤ºä¾‹10ï¼š(1, 0, 0, 0) */
/* <div style="color: red;"> å†…è”æ ·å¼ */
```

### 5.3 å¤æ‚é€‰æ‹©å™¨è®¡ç®—

```css :collapsed-lines
/* å¤æ‚ç¤ºä¾‹åˆ†æ */

/* (0, 1, 2, 3) */
#header .nav ul li a {
  /* 1ä¸ªID + 1ä¸ªç±» + 1ä¸ªä¼ªç±» + 3ä¸ªå…ƒç´  */
}

/* (0, 0, 3, 2) */
.sidebar .menu li:first-child a:hover {
  /* 2ä¸ªç±» + 1ä¸ªä¼ªç±» + 2ä¸ªå…ƒç´  */
}

/* (0, 2, 1, 1) */
#header #nav .logo span {
  /* 2ä¸ªID + 1ä¸ªç±» + 1ä¸ªå…ƒç´  */
}
```

### 5.4 ç‰¹æ®Šæ€§æ¯”è¾ƒè§„åˆ™

```css :collapsed-lines
/* æ¯”è¾ƒç¤ºä¾‹ */
.text {
  color: blue;
} /* (0, 0, 1, 0) */
p {
  color: red;
} /* (0, 0, 0, 1) */
/* ç»“æœï¼šè“è‰²èƒœå‡ºï¼Œå› ä¸º (0, 0, 1, 0) > (0, 0, 0, 1) */

#title {
  color: green;
} /* (0, 1, 0, 0) */
.text.highlight {
  color: yellow;
} /* (0, 0, 2, 0) */
/* ç»“æœï¼šç»¿è‰²èƒœå‡ºï¼Œå› ä¸º (0, 1, 0, 0) > (0, 0, 2, 0) */
```

::: important

**é‡è¦**ï¼šç‰¹æ®Šæ€§æ¯”è¾ƒæ˜¯é€ä½æ¯”è¾ƒï¼Œä¸æ˜¯æ•°å€¼ç›¸åŠ ï¼

:::

### 5.5 é€šé…ç¬¦å’Œç»„åˆå™¨

```css :collapsed-lines
/* é€šé…ç¬¦é€‰æ‹©å™¨ç‰¹æ®Šæ€§ä¸º 0 */
* {
  color: black;
} /* (0, 0, 0, 0) */

/* ç»„åˆå™¨ä¸å¢åŠ ç‰¹æ®Šæ€§ */
div > p {
  color: blue;
} /* (0, 0, 0, 2) */

div + p {
  color: red;
} /* (0, 0, 0, 2) */

div ~ p {
  color: green;
} /* (0, 0, 0, 2) */

/* :not() ä¼ªç±»æœ¬èº«ä¸è®¡ç®—ï¼Œä½†å…¶å‚æ•°è®¡ç®— */
:not(.text) {
  color: yellow;
} /* (0, 0, 1, 0) */
```

## 6. æºæ¬¡åºæ¯”è¾ƒ

### 6.1 æºæ¬¡åºè§„åˆ™

å½“é‡è¦æ€§å’Œç‰¹æ®Šæ€§éƒ½ç›¸åŒæ—¶ï¼Œ**åå£°æ˜çš„æ ·å¼ä¼šè¦†ç›–å…ˆå£°æ˜çš„æ ·å¼**ã€‚

```css :collapsed-lines
/* ç¤ºä¾‹ï¼šç›¸åŒç‰¹æ®Šæ€§çš„è§„åˆ™ */
.text {
  color: red;
} /* å…ˆå£°æ˜ */

.text {
  color: blue;
} /* åå£°æ˜ï¼Œä¼šè¦†ç›–çº¢è‰² */

p {
  font-size: 14px;
} /* å…ˆå£°æ˜ */

p {
  font-size: 16px;
} /* åå£°æ˜ï¼Œä¼šè¦†ç›– 14px */
```

### 6.2 æ ·å¼è¡¨åŠ è½½é¡ºåº

```html :collapsed-lines
<!DOCTYPE html>
<html>
  <head>
    <!-- 1. ç¬¬ä¸€ä¸ªå¤–éƒ¨æ ·å¼è¡¨ -->
    <link rel="stylesheet" href="reset.css" />

    <!-- 2. ç¬¬äºŒä¸ªå¤–éƒ¨æ ·å¼è¡¨ -->
    <link rel="stylesheet" href="main.css" />

    <!-- 3. å†…éƒ¨æ ·å¼è¡¨ -->
    <style>
      .text {
        color: blue;
      }
    </style>
  </head>
  <body>
    <!-- 4. å†…è”æ ·å¼ï¼ˆç‰¹æ®Šæ€§æœ€é«˜ï¼‰ -->
    <p class="text" style="color: red;">æ–‡æœ¬å†…å®¹</p>
  </body>
</html>
```

### 6.3 çˆ±æ¨æ³•åˆ™ï¼ˆLVHAï¼‰

é“¾æ¥ä¼ªç±»çš„æ­£ç¡®é¡ºåºï¼š

```css :collapsed-lines
/* æ­£ç¡®çš„é¡ºåºï¼šLoVe HAte */
a:link {
  color: blue;
} /* L - Link */
a:visited {
  color: purple;
} /* V - Visited */
a:hover {
  color: red;
} /* H - Hover */
a:active {
  color: orange;
} /* A - Active */
```

## 7. å®é™…åº”ç”¨

### 7.1 é‡ç½®æ ·å¼è¡¨

#### 7.1.1 ä»€ä¹ˆæ˜¯é‡ç½®æ ·å¼è¡¨

é‡ç½®æ ·å¼è¡¨ç”¨äº**è¦†ç›–æµè§ˆå™¨çš„é»˜è®¤æ ·å¼**ï¼Œç¡®ä¿åœ¨ä¸åŒæµè§ˆå™¨ä¸­è·å¾—ä¸€è‡´çš„æ˜¾ç¤ºæ•ˆæœã€‚

#### 7.1.2 å¸¸è§çš„é‡ç½®æ ·å¼è¡¨

**1. Reset.cssï¼ˆæ¿€è¿›é‡ç½®ï¼‰**

```css :collapsed-lines
/* Eric Meyer's Reset CSS */
html,
body,
div,
span,
applet,
object,
iframe,
h1,
h2,
h3,
h4,
h5,
h6,
p,
blockquote,
pre,
a,
abbr,
acronym,
address,
big,
cite,
code,
del,
dfn,
em,
img,
ins,
kbd,
q,
s,
samp,
small,
strike,
strong,
sub,
sup,
tt,
var,
b,
u,
i,
center,
dl,
dt,
dd,
ol,
ul,
li,
fieldset,
form,
label,
legend,
table,
caption,
tbody,
tfoot,
thead,
tr,
th,
td,
article,
aside,
canvas,
details,
embed,
figure,
figcaption,
footer,
header,
hgroup,
menu,
nav,
output,
ruby,
section,
summary,
time,
mark,
audio,
video {
  margin: 0;
  padding: 0;
  border: 0;
  font-size: 100%;
  font: inherit;
  vertical-align: baseline;
}
```

**2. Normalize.cssï¼ˆæ¸©å’Œé‡ç½®ï¼‰**

```css :collapsed-lines
/* Normalize.css éƒ¨åˆ†ç¤ºä¾‹ */
html {
  line-height: 1.15;
  -webkit-text-size-adjust: 100%;
}

body {
  margin: 0;
}

h1 {
  font-size: 2em;
  margin: 0.67em 0;
}

button,
input,
optgroup,
select,
textarea {
  font-family: inherit;
  font-size: 100%;
  line-height: 1.15;
  margin: 0;
}
```

**3. è‡ªå®šä¹‰é‡ç½®æ ·å¼**

```css :collapsed-lines
/* ç°ä»£åŒ–çš„é‡ç½®æ ·å¼ */
*,
*::before,
*::after {
  box-sizing: border-box;
}

html {
  font-size: 16px;
  line-height: 1.5;
}

body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  color: #333;
  background-color: #fff;
}

h1,
h2,
h3,
h4,
h5,
h6 {
  margin: 0 0 1rem 0;
  font-weight: bold;
  line-height: 1.2;
}

p {
  margin: 0 0 1rem 0;
}

ul,
ol {
  margin: 0 0 1rem 0;
  padding-left: 2rem;
}

img {
  max-width: 100%;
  height: auto;
}

button {
  cursor: pointer;
  border: none;
  background: none;
  font: inherit;
}
```

#### 7.1.3 é‡ç½®æ ·å¼è¡¨çš„ä½¿ç”¨

```html :collapsed-lines
<!DOCTYPE html>
<html>
  <head>
    <!-- 1. é¦–å…ˆåŠ è½½é‡ç½®æ ·å¼è¡¨ -->
    <link rel="stylesheet" href="reset.css" />

    <!-- 2. ç„¶ååŠ è½½è‡ªå®šä¹‰æ ·å¼ -->
    <link rel="stylesheet" href="main.css" />
  </head>
  <body>
    <!-- é¡µé¢å†…å®¹ -->
  </body>
</html>
```

### 7.2 ç»„ä»¶æ ·å¼è®¾è®¡

æŒ‰é’®ç»„ä»¶ç¤ºä¾‹

```css :collapsed-lines
/* åŸºç¡€æŒ‰é’®æ ·å¼ */
.btn {
  display: inline-block;
  padding: 0.5rem 1rem;
  border: 1px solid transparent;
  border-radius: 0.25rem;
  font-size: 1rem;
  line-height: 1.5;
  text-align: center;
  text-decoration: none;
  cursor: pointer;
  transition: all 0.3s ease;
}

/* ä¸»è¦æŒ‰é’® */
.btn-primary {
  color: white;
  background-color: #007bff;
  border-color: #007bff;
}

.btn-primary:hover {
  background-color: #0056b3;
  border-color: #004085;
}

/* æ¬¡è¦æŒ‰é’® */
.btn-secondary {
  color: white;
  background-color: #6c757d;
  border-color: #6c757d;
}

/* å¤§å°ºå¯¸æŒ‰é’® */
.btn-lg {
  padding: 0.75rem 1.5rem;
  font-size: 1.25rem;
}

/* å°å°ºå¯¸æŒ‰é’® */
.btn-sm {
  padding: 0.25rem 0.5rem;
  font-size: 0.875rem;
}
```

## 8. æœ€ä½³å®è·µå»ºè®®

### 8.1 å±‚å ç®¡ç†ç­–ç•¥

#### 8.1.1 é¿å…è¿‡åº¦ä½¿ç”¨ !important

```css :collapsed-lines
/* ä¸æ¨èï¼šæ»¥ç”¨ !important */
.bad-practice {
  color: red !important;
  font-size: 16px !important;
  margin: 10px !important;
}

/* æ¨èï¼šåˆç†çš„é€‰æ‹©å™¨è®¾è®¡ */
.component .header .title {
  color: red;
  font-size: 16px;
  margin: 10px;
}
```

#### 8.1.2 ä½¿ç”¨åˆç†çš„é€‰æ‹©å™¨ç‰¹æ®Šæ€§

```css :collapsed-lines
/* ä¸æ¨èï¼šç‰¹æ®Šæ€§è¿‡é«˜ */
#header #nav #menu .item .link {
  color: blue;
}

/* æ¨èï¼šé€‚ä¸­çš„ç‰¹æ®Šæ€§ */
.nav-link {
  color: blue;
}

.nav-link.active {
  color: red;
}
```

### 8.2 ä»£ç ç»„ç»‡åŸåˆ™

#### 8.2.1 æ ·å¼è¡¨åŠ è½½é¡ºåº

```html :collapsed-lines
<!-- æ¨èçš„åŠ è½½é¡ºåº -->
<head>
  <!-- 1. é‡ç½®æ ·å¼ -->
  <link rel="stylesheet" href="reset.css" />

  <!-- 2. ç¬¬ä¸‰æ–¹åº“ -->
  <link rel="stylesheet" href="bootstrap.css" />

  <!-- 3. åŸºç¡€æ ·å¼ -->
  <link rel="stylesheet" href="base.css" />

  <!-- 4. ç»„ä»¶æ ·å¼ -->
  <link rel="stylesheet" href="components.css" />

  <!-- 5. é¡µé¢ç‰¹å®šæ ·å¼ -->
  <link rel="stylesheet" href="page.css" />
</head>
```

#### 8.2.2 CSS æ¶æ„æ–¹æ³•

**1. BEM æ–¹æ³•è®º**

```css :collapsed-lines
/* Block Element Modifier */
.card {
} /* Block */
.card__header {
} /* Element */
.card__body {
} /* Element */
.card--large {
} /* Modifier */
.card__header--highlighted {
} /* Element + Modifier */
```

**2. OOCSS åŸåˆ™**

```css :collapsed-lines
/* ç»“æ„ä¸çš®è‚¤åˆ†ç¦» */
.btn {
  /* ç»“æ„æ ·å¼ */
  display: inline-block;
  padding: 0.5rem 1rem;
  border-radius: 0.25rem;
}

.btn-primary {
  /* çš®è‚¤æ ·å¼ */
  background-color: #007bff;
  color: white;
}

.btn-secondary {
  /* çš®è‚¤æ ·å¼ */
  background-color: #6c757d;
  color: white;
}
```

### 8.3 æ€§èƒ½è€ƒè™‘

#### 8.3.1 CSS æ–‡ä»¶ä¼˜åŒ–

```css :collapsed-lines
/* åˆå¹¶ç›¸ä¼¼è§„åˆ™ */
.btn-primary,
.btn-secondary,
.btn-success {
  /* å…±åŒæ ·å¼ */
  display: inline-block;
  padding: 0.5rem 1rem;
  border-radius: 0.25rem;
}

/* ä½¿ç”¨ CSS å˜é‡å‡å°‘é‡å¤ */
:root {
  --primary-color: #007bff;
  --secondary-color: #6c757d;
  --border-radius: 0.25rem;
}

.btn {
  border-radius: var(--border-radius);
}
```
